{"version":3,"file":"destination-tables.js","sourceRoot":"","sources":["../../app/destination-tables.ts"],"names":[],"mappings":"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","sourcesContent":["import ____moose____typia from \"typia\";\nimport { CustomerDimension, ProductDimension, OrderFact } from './models';\nimport { OlapTable } from '@514labs/moose-lib';\n// ==================== OLAP TABLE DEFINITIONS ====================\nexport const CustomerDimensionTable = new OlapTable<CustomerDimension>('dim_customer', {\n    orderByFields: ['id'],\n    // ClickHouse: ReplacingMergeTree for Type 1 SCD (automatic deduplication)\n}, ____moose____typia.json.schemas<[\n    import(\"@514labs/moose-lib\").StripDateIntersection<CustomerDimension>\n]>(), JSON.parse(\"[{\\\"name\\\":\\\"email\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"name\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"country\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"city\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"createdAt\\\",\\\"data_type\\\":\\\"DateTime\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"id\\\",\\\"data_type\\\":\\\"UInt64\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]}]\") as any, {\n    validate: (data: unknown) => {\n        const result = ____moose____typia.createValidate<import(\"@514labs/moose-lib\").StripDateIntersection<CustomerDimension>>()(data);\n        return {\n            success: result.success,\n            data: result.success ? result.data : undefined,\n            errors: result.success ? undefined : result.errors\n        };\n    },\n    assert: ____moose____typia.createAssert<import(\"@514labs/moose-lib\").StripDateIntersection<CustomerDimension>>(),\n    is: ____moose____typia.createIs<import(\"@514labs/moose-lib\").StripDateIntersection<CustomerDimension>>()\n});\nexport const ProductDimensionTable = new OlapTable<ProductDimension>('dim_product', {\n    orderByFields: ['id'],\n    // ClickHouse: ReplacingMergeTree for Type 1 SCD\n}, ____moose____typia.json.schemas<[\n    import(\"@514labs/moose-lib\").StripDateIntersection<ProductDimension>\n]>(), JSON.parse(\"[{\\\"name\\\":\\\"name\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"createdAt\\\",\\\"data_type\\\":\\\"DateTime\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"category\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"price\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"id\\\",\\\"data_type\\\":\\\"UInt64\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]}]\") as any, {\n    validate: (data: unknown) => {\n        const result = ____moose____typia.createValidate<import(\"@514labs/moose-lib\").StripDateIntersection<ProductDimension>>()(data);\n        return {\n            success: result.success,\n            data: result.success ? result.data : undefined,\n            errors: result.success ? undefined : result.errors\n        };\n    },\n    assert: ____moose____typia.createAssert<import(\"@514labs/moose-lib\").StripDateIntersection<ProductDimension>>(),\n    is: ____moose____typia.createIs<import(\"@514labs/moose-lib\").StripDateIntersection<ProductDimension>>()\n});\nexport const OrderFactTable = new OlapTable<OrderFact>('fact_order', {\n    orderByFields: ['orderDate', 'customerId', 'productId'],\n    // ClickHouse: MergeTree partitioned by toYYYYMM(orderDate) for time-series queries\n}, ____moose____typia.json.schemas<[\n    import(\"@514labs/moose-lib\").StripDateIntersection<OrderFact>\n]>(), JSON.parse(\"[{\\\"name\\\":\\\"id\\\",\\\"data_type\\\":\\\"UInt64\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"customerId\\\",\\\"data_type\\\":\\\"UInt64\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"productId\\\",\\\"data_type\\\":\\\"UInt64\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"orderId\\\",\\\"data_type\\\":\\\"UInt64\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"orderDate\\\",\\\"data_type\\\":\\\"DateTime\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"quantity\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"unitPrice\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"revenue\\\",\\\"data_type\\\":\\\"Float\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"orderStatus\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"customerCountry\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"customerCity\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"productCategory\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]},{\\\"name\\\":\\\"productName\\\",\\\"data_type\\\":\\\"String\\\",\\\"primary_key\\\":false,\\\"required\\\":true,\\\"unique\\\":false,\\\"default\\\":null,\\\"ttl\\\":null,\\\"annotations\\\":[]}]\") as any, {\n    validate: (data: unknown) => {\n        const result = ____moose____typia.createValidate<import(\"@514labs/moose-lib\").StripDateIntersection<OrderFact>>()(data);\n        return {\n            success: result.success,\n            data: result.success ? result.data : undefined,\n            errors: result.success ? undefined : result.errors\n        };\n    },\n    assert: ____moose____typia.createAssert<import(\"@514labs/moose-lib\").StripDateIntersection<OrderFact>>(),\n    is: ____moose____typia.createIs<import(\"@514labs/moose-lib\").StripDateIntersection<OrderFact>>()\n});\n"]}